<!DOCTYPE html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>TipTip Tests</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

        <link rel="stylesheet" href="./css/lib/mocha.css">
    </head>
    <body>
        <div id="mocha"></div>

        <!-- TEMPLATES -->
        <script type="text/template" id="layout-tpl">
            <div id="header-region"></div>
            <div id="message-region"></div>
            <div id="main-region"></div>
            <div id="footer-region"></div>
        </script>

        <script type="text/template" id="bill-create-tpl">
            <form role="form">
                <div class="input-group">
                    <span class="input-group-addon">$</span>
                    <input class="form-control" id="bill-create" type="text" placeholder="24.99" autofocus />
                    <span class="input-group-addon" id="js-input-clear">X</span>
                </div>
            </form>
        </script>

        <script type="text/template" id="bill-item-tpl">
            <td><strong><%= tipPercentage %>%</strong></td>
            <td><% if (tipAmount) { %><%= formatMoney(tipAmount) %><% } %></td>
        </script>

        <script type="text/template" id="bill-panel-tpl">
            <div class="clearfix">
                <p class="pull-left"><small>
                    Your average tip is <%= avgPercentage %>, or <%= avgAmount %>.
                </small></p>
                <p class="pull-right"><small>
                    <a href="#" id="js-history-clear">[Clear History]</a>
                </small></p>
            </div>
        </script>

        <script type="text/template" id="bills-composite-tpl">
            <table class="table table-bordered table-striped"><tbody></tbody></table>
        </script>

        <script type="text/template" id="message-tpl">
            <div class="alert alert-<%= kind %>"><%= body %></div>
        </script>

        <!-- TEST LIBRARIES -->
        <script src="./js/lib/mocha.js"></script>
        <script src="./js/lib/chai.js"></script>
        <script src="./js/lib/sinon-chai.js"></script>
        <script src="./js/lib/sinon.js"></script>

        <!-- CORE LIBRARIES -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.3.0/lodash.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.0/backbone-min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.marionette/1.1.0-bundled/backbone.marionette.min.js"></script>

        <!-- APPLICATION -->
        <script src="../app/js/lib/backbone.localstorage.js"></script>
        <script src="../app/js/app/app.js"></script>
        <script src="../app/js/app/localstorage.js"></script>
        <script src="../app/js/app/models.js"></script>
        <script src="../app/js/app/views.js"></script>
        <script src="../app/js/app/controllers.js"></script>

        <!-- SETUP -->
        <script>
        var expect = chai.expect;

        mocha.setup({
            ui: "bdd",
            bail: false
        });

        window.onload = function() {
            (window.mochaPhantomJS || mocha).run();
        };

        (function($) {
            TipTip.start();
        });
        </script>

        <!-- SPECS -->
        <script src="./js/spec/app.js"></script>
    </body>
</html>
